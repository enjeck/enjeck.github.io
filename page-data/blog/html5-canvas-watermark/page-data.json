{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/html5-canvas-watermark/","result":{"data":{"site":{"siteMetadata":{"title":"Enjeck's Personal Website","author":"Enjeck Cleopatra"}},"mdx":{"id":"ed4206be-e8e5-5edd-a906-9074b8abae03","excerpt":"HTML has come far from being just a markup language. The HTML5 canvas gives us the power to create and manipulate pixels, sort of like a painter working on aâ€¦","frontmatter":{"title":"Learn HTML5 canvas by building an image watermarking tool","date":"March 15, 2022"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Learn HTML5 canvas by building an image watermarking tool\",\n  \"date\": \"2022-03-15\",\n  \"categories\": [\"JavaScript\", \"HTML\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"HTML has come far from being just a markup language. The HTML5 canvas gives us the power to create and manipulate pixels, sort of like a painter working on a canvas. We can draw text and graphics onto the canvas using JavaScript. To demonstrate the power of the canvas and how to use its features, let\\u2019s build an image watermarking tool that allows a user to upload an image and watermark it with text.   \"), mdx(\"h2\", null, \"Adding the canvas into a web page\"), mdx(\"p\", null, \"Before you begin, create a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \". Here, we will write most of our code. \"), mdx(\"p\", null, \"The HTML5 canvas can be added to a page just like any other element. It starts with an opening \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<canvas>\"), \" tag and closes with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"</canvas>\"), \". Like other HTML elements, it can take attributes like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \" for identification, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"width\"), \" to define the horizontal length in pixels, and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"height\"), \" to define the vertical area of the page it occupies. \"), mdx(\"p\", null, \"The canvas in the following code is 600 pixels wide and 600 pixels high. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<!doctype html>\\n<html lang=\\\"en\\\">\\n    <head>\\n        <title>Watermark</title>\\n        <meta charset=\\\"utf-8\\\">\\n    </head>\\n    <body>\\n        <canvas id=\\\"canvas\\\" width=\\\"600\\\" height=\\\"600\\\"></canvas>\\n    </body>\\n    <style>\\n        canvas {\\n            border: 1px solid #000;\\n        }\\n    </style>\\n    <script>\\n    </script>\\n</html>\\n\")), mdx(\"p\", null, \"Go ahead and save the code as an HTML file and load it into a browser. \"), mdx(\"p\", null, \"To see our canvas, we have given it a tiny black border, defined within the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"style\"), \" tags. Without this border, a blank white page is shown and we won\\u2019t know exactly where the canvas is. For now, we\\u2019ll write JavaScript code between the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"script\"), \" tags. \"), mdx(\"p\", null, \"A page can have as many canvas elements as we like. Since the canvas is transparent, it can be placed on top of other elements. This allows us to draw on top of an image or something else. \"), mdx(\"p\", null, \"Notice that we set the width and height of the canvas as an inline style on the element itself, and not as CSS styles within the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<style>\"), \" tag. That\\u2019s because the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"height\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"width\"), \" attributes work differently with the canvas, compared to other elements. The default dimension of the canvas is 300px by 150px \\u2014 it takes these values when the height and width HTML attributes are not explicitly set. If you later set the dimensions in CSS, say 600px by 600px, the canvas scales from its default size of 300 by 150 to fit this size, and everything drawn in the canvas scales with it. This might cause some pixelation issues (pixels get stretched and appear chunky), similar to what occurs when you resize a raster image. By making the canvas bigger (or smaller, if you prefer), anything drawn in it will be scaled to fit the specified dimensions. \"), mdx(\"h2\", null, \"Drawing on the canvas\"), mdx(\"p\", null, \"Let\\u2019s begin writing some JavaScript between our script tags:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// Start drawing after the page is fully loaded. \\n     window.onload = function(){\\n     // Get the canvas element, where we shall draw the background elements. \\n       const canvas = document.getElementById(\\\"canvas\\\");\\n       // To draw, we need to select a context for the canvas, 2d in this case, since we're drawing 2d items. \\n        const context = canvas.getContext(\\\"2d\\\");\\n     }\\n\\n\")), mdx(\"p\", null, \"In the code above, we get the canvas element we had already created earlier. Before we can begin drawing on it, we must first set an interface by choosing a context. The context defines the set of properties and methods that can be used to draw on the canvas. Here, we are using a 2D context. As you might guess, the canvas supports other interfaces like 3d, which won\\u2019t be covered in this tutorial.\"), mdx(\"p\", null, \"Some older browsers (e.g < Internet Explorer 9) do not support the canvas API. When a feature isn\\u2019t supported, it\\u2019s a good practice to show something else to a user, instead of letting them encounter a blank page. To check if the canvas exists, we can use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"canvas.getContext()\"), \".  \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"  const canvas = document.getElementById(\\\"canvas\\\");\\n  if (canvas.getContext) {\\n    // actual code\\n  } else {\\n    alert(\\\"Sorry, your browser does not support the canvas API. Please, update. \\\")\\n  }\\n\")), mdx(\"p\", null, \"Using JavaScript to check for canvas support might be a bit of an overkill, depending on what you are trying to do. JavaScript\\u2019s power comes into play when you want to provide users with a different experience (such as displaying another content or redirecting to another page) when there\\u2019s no canvas support. \"), mdx(\"p\", null, \"If you intend to just display some backup text when the canvas is not supported, it suffices to just use plain HTML. \"), mdx(\"p\", null, \"When a supported element (such as text or image) is placed within the canvas element, it will be displayed if the canvas is not supported. By default, whenever a browser sees an element it does not recognize, it displays any text within the element. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<canvas id=\\\"canvas\\\">\\nNo canvas support. Please upgrade. \\n</canvas>\\n\")), mdx(\"p\", null, \"With the code above, browsers without canvas support will display the text \\u201CNo canvas support. Please upgrade\\u201D, whereas, capable browsers ignore any text within the canvas tags and instead shows drawings generated via JavaScript. \"), mdx(\"h2\", null, \"Drawing a basic shape\"), mdx(\"p\", null, \"Before we jump into the main watermarking application, let\\u2019s test the canvas by drawing a simple shape.\\nTo draw a rectangle, we use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillRect()\"), \" method. It takes 4 arguments, corresponding to the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"x position\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"y position\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"width\"), \", and \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"height\"), \". \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"<script>\\n     window.onload = function(){\\n       const canvas = document.getElementById(\\\"canvas\\\");\\n        let context = canvas.getContext(\\\"2d\\\");\\n         context.fillRect(0, 0, 100, 100)\\n     }\\n</script>\\n\")), mdx(\"p\", null, \"The code \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"context.fillRect(0, 0, 100, 100)\"), \" creates a rectangle starting from the top left, with dimensions 100 x 100 pixels. This rectangle is colored black, which is the default fill color for the canvas. \"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/24f05f7ebf6cfa9fa84383c111b6c2d4/c6d67/filled-rect.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50.67567567567568%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYklEQVQoz+XOsQ3AIAxEUU/gAaipwhieADEA+28AMXAoSEmRMrjLL694OkopwTkHEYGq4mqMga+R9x5EBGa2AXPOCOFAjBGttX3wPexgCyyloPe+3t3Y1sNazwcxBy36ITgBYp0GnnOrmA8AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"filled rect\",\n    \"title\": \"filled rect\",\n    \"src\": \"/static/24f05f7ebf6cfa9fa84383c111b6c2d4/fcda8/filled-rect.png\",\n    \"srcSet\": [\"/static/24f05f7ebf6cfa9fa84383c111b6c2d4/12f09/filled-rect.png 148w\", \"/static/24f05f7ebf6cfa9fa84383c111b6c2d4/e4a3f/filled-rect.png 295w\", \"/static/24f05f7ebf6cfa9fa84383c111b6c2d4/fcda8/filled-rect.png 590w\", \"/static/24f05f7ebf6cfa9fa84383c111b6c2d4/c6d67/filled-rect.png 734w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"To draw a rectangle with a stroke rather than fill, we would use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"strokeRect()\"), \" method rather than \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillRect()\"), \". If you now load \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \" in your browser, you should see something like this:\"), mdx(\"p\", null, \"Great, our canvas is up and running. We have tested it out, and it works. Go ahead and delete the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"context.fillRect(0, 0, 100, 100)\"), \" code. We don\\u2019t need it anymore. \"), mdx(\"h2\", null, \"Building the app interface\"), mdx(\"p\", null, \"Before we begin implementing the watermarking app, let\\u2019s consider its interface and features:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"There is a canvas element, along with form elements that act as the user interface. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The form will have input fields like a \\u201Cbrowse\\u201D button to upload an image, a text input to enter the watermark text, select fields for choosing the text color, text size, text background, the position of text on the image, and a preview button.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We\\u2019ll grab user input from the form and use it to draw on the canvas using JavaScript. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The preview button will prompt JavaScript to retrieve user input and print data on canvas. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Optionally, we can add a download button for saving the finished watermarked image. \")), mdx(\"p\", null, \"To begin with, here\\u2019s the HTML code:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<!doctype html>\\n<html lang=\\\"en\\\">\\n    <head>\\n        <title>Watermark</title>\\n        <meta charset=\\\"utf-8\\\" />\\n        <style>\\n            canvas {\\n              border: 1px solid black;\\n              }\\n        </style>\\n    </head>\\n    <body>\\n       <h1> Watermarker </h1>\\n        <canvas id=\\\"canvas\\\" width=\\\"600\\\" height=\\\"400\\\">\\n          <p> No canvas support. Please upgrade your browser. </p>\\n        </canvas>\\n        <form>\\n            </form>\\n\\n            <script src=\\\"watermark.js\\\"></script>\\n    </body>\\n</html>\\n\")), mdx(\"p\", null, \"We have moved our script code to a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"watermark.js\"), \" file and linked it to it within the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<head>\"), \". The canvas still has the fallback text for old browsers that do not support the canvas API. \"), mdx(\"p\", null, \"Also, there is a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<form>\"), \" element containing controls that support the watermarking features. \"), mdx(\"p\", null, \"Let\\u2019s add the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<form>\"), \" data. This form serves as the user interface. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"    <form>\\n      <!-- Where the user selects an image -->\\n      <p>\\n        <label for=\\\"imageLoader\\\" id=\\\"imageLoaderLabel\\\">Choose an image:</label><br />\\n        <input type=\\\"file\\\" id=\\\"imageLoader\\\" name=\\\"imageLoader\\\" />\\n      </p>\\n\\n      <!-- Where the user enters the text to be used as a watermark -->\\n      <p>\\n        <label for=\\\"watermarkText\\\">Enter the text to use:</label><br />\\n        <input type=\\\"text\\\" id=\\\"watermarkText\\\" name=\\\"watermarkText\\\" />\\n      </p>\\n\\n      <!-- Where the user  selects the position of the text on the image. Feel free to add more options-->\\n      <p>\\n        <label for=\\\"textPosition\\\">Position of text:</label><br />\\n        <select id=\\\"textPosition\\\">\\n          <option value=\\\"bottom-left\\\">Bottom Left</option>\\n          <option value=\\\"center\\\"> Center </option>\\n        </select>\\n      </p>\\n\\n      <!-- Where the user  selects the color of the text on the image. Feel free to add more options-->\\n      <p>\\n        <label for=\\\"textColor\\\">Color of text:</label><br />\\n        <select id=\\\"textColor\\\">\\n          <option value=\\\"black\\\">black</option>\\n          <option value=\\\"blue\\\">blue</option>\\n          <option value=\\\"red\\\">red</option>\\n        </select>\\n      </p>\\n\\n      <!-- Another selection control for choosing the font of the text. Feel free to add more options-->\\n      <p>\\n        <label for=\\\"textFont\\\">Text font:</label><br />\\n        <select id=\\\"textFont\\\">\\n          <option value=\\\"arial\\\">Arial</option>\\n          <option value=\\\"helvetica\\\">Helvetica</option>\\n          <option value=\\\"monospace\\\">Monospace</option>\\n        </select>\\n      </p>\\n\\n      <!-- Another selection control for choosing the color of the text background. Feel free to add more options-->\\n      <p>\\n        <label for=\\\"textBgColor\\\">Text background color:</label><br />\\n        <select id=\\\"textBgColor\\\">\\n          <option value=\\\"black\\\">black</option>\\n          <option value=\\\"white\\\">white</option>\\n          <option value=\\\"transparent\\\">transparent</option>\\n        </select>\\n      </p>\\n\\n      <!-- Buttons to preview or download the watermarked image -->\\n\\n      <input type=\\\"button\\\" id=\\\"previewBtn\\\" value=\\\"Preview\\\">\\n\\n    </form>\\n\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6ac3a03a5ef0022a4a846e15e3e1cc97/00172/watermark-interface.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"74.32432432432432%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA20lEQVQ4y62S6wqDMAyFff83dHaCsl+uKNbO2no5I5WJt1bdFghGc/pxmhhI+ULXdTDGwJjWkQZt26Kua2g91ku9mZ6B1hpng0DDMHg1QdM0tiChLynIQd/3Tv0G6Io58FPP9fP+X4FCiC3w6Mo+YFVVCEi0bpyd4S4wz3NrlZIO0NbH32Cb1Dt0GIYRkiRFmqY42vgasAssigJSSvuiVOO89vyb12HE7mAsttD1HM/GAni7MWTZc9fFV0Byx3lut+ea2SXguJAHOOdQSl2+7gYYxwnKUkwOfwW+AbKcoFeYe8qyAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"watermark interface\",\n    \"title\": \"watermark interface\",\n    \"src\": \"/static/6ac3a03a5ef0022a4a846e15e3e1cc97/fcda8/watermark-interface.png\",\n    \"srcSet\": [\"/static/6ac3a03a5ef0022a4a846e15e3e1cc97/12f09/watermark-interface.png 148w\", \"/static/6ac3a03a5ef0022a4a846e15e3e1cc97/e4a3f/watermark-interface.png 295w\", \"/static/6ac3a03a5ef0022a4a846e15e3e1cc97/fcda8/watermark-interface.png 590w\", \"/static/6ac3a03a5ef0022a4a846e15e3e1cc97/efc66/watermark-interface.png 885w\", \"/static/6ac3a03a5ef0022a4a846e15e3e1cc97/00172/watermark-interface.png 1044w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"We\\u2019ve dealt with the markup. Now, we can handle the script. \"), mdx(\"p\", null, \"Let\\u2019s start by writing code to load a selected image to the canvas when the \\u201Cbrowse\\u2026\\u201D (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id = imageLoader\"), \") button is clicked. \"), mdx(\"p\", null, \"Add the following code into \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"watermark.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"// Select the \\\"browse\\\" button, used to choose the image\\nvar imageLoader = document.getElementById('imageLoader');\\n\\n/* When the user selects an image, call the loadImage function */\\n    imageLoader.addEventListener('change', loadImage, false);\\n\\n// Select the canvas and give it a 2d context \\nvar canvas = document.getElementById('canvas');\\nvar ctx = canvas.getContext('2d');\\n\\n\")), mdx(\"p\", null, \"The event listener calls the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"loadImage()\"), \" function, which is defined below. It reads the selected image using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FileReader\"), \"object and draws it onto the canvas using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"drawImage()\"), \". \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"function loadImage(e){\\n    // Read the selected image \\n    var reader = new FileReader();\\n    reader.onload = function(event){\\n        var img = new Image();\\n        img.onload = function(){\\n            /* Set the width and height of the canvas to\\n             match the size of the chosen image */\\n            canvas.width = img.width;\\n            canvas.height = img.height;\\n            // Draw the image on the canvas\\n            ctx.drawImage(img,0,0);\\n        }\\n        img.src = event.target.result;\\n        /* Delete the image loader with the prompt to \\\"Choose an image\\\" after an image is chosen */\\n        document.getElementById('imageLoaderLabel').remove();\\n    }\\n    reader.readAsDataURL(e.target.files[0]);     \\n}\\n\")), mdx(\"p\", null, \"If you visit \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \" in a browser, you should be able to select an image and it will be loaded to the canvas.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/b281dcad98699d1231c77c5bce1e50a2/00172/load-image-watermark.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"74.32432432432432%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACW0lEQVQ4y5WS20uTcRzG/XOCogsJhIIiylOCEdRFXQRdBBFEkdmFHQk8pS13aI5lm6IzNPLIdLq9uoOuzMALzZnNwVZmuOm29m5zG9sntlKZOcsHHvj93h/Ph+f78s0rkoxw8Ime4/XDXHxh4nDjGPmScQqkFo5IrRQrzFzXWDgtM1MoG2fW4wWSxGJx4vHEH8dJJBLEYjHySuUCB6pHOC83IYx+4K5G4KhE4ITMSrlMoL1/ksHhKUqUNoqUEyysBEgrmUqxU6IoklemGONQ7SiXVGYM/Ra6W95Q/VhJbU0LGkUnxm49PYOTnFFNUqi04fju/w1Mpkiltp1WKBQir1w5Tn6jQJnURFdbH9duVtHYoMZsmOT2vTra1Tpau0ycVE5Q0mzDsbIN3FQW8KzKzDGphYdqA9JGLRX3G5DVNTGg6aD6uQat5i1DejtXWu2cUtr4/C/guVd2yuv7efRASlV1C3JZJ7KmNp49VWE2TtPbY8IwICDVCRS/nGLhR3BvYKnaTsEdLZevVnGrRkulopcbkj4q5Xrk3RaaO4bo0A2ia+3hQoWMT1+9ewN7Z9y8frfIkHGCcdtHjNPzTMy7ee/wYJ9dYnrGwcLCEnNzX7AarfjX1rMgfwFXl5cJBwOIYohIOER8I8pGRCQaFjPnaCScjmStRyq1+z0D9PrW8AeC+P0BIpFoZpT0jm16cy0y35PJrXDOhk7nEk6nC1EMbz3u5t2a7QpcXHSyuurNCuUK5tKOhi58vvWtcXa22jfQ7fbg8XzD5/MRjUb3HO2/gC6Xm2DwZ84fvl/gLzbjLtwjsAwTAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"load image watermark\",\n    \"title\": \"load image watermark\",\n    \"src\": \"/static/b281dcad98699d1231c77c5bce1e50a2/fcda8/load-image-watermark.png\",\n    \"srcSet\": [\"/static/b281dcad98699d1231c77c5bce1e50a2/12f09/load-image-watermark.png 148w\", \"/static/b281dcad98699d1231c77c5bce1e50a2/e4a3f/load-image-watermark.png 295w\", \"/static/b281dcad98699d1231c77c5bce1e50a2/fcda8/load-image-watermark.png 590w\", \"/static/b281dcad98699d1231c77c5bce1e50a2/efc66/load-image-watermark.png 885w\", \"/static/b281dcad98699d1231c77c5bce1e50a2/00172/load-image-watermark.png 1044w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Next, let\\u2019s enable the \\u201Cpreview\\u201D (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id=\\\"previewBtn\\\"\"), \") button by making it call a JavaScript function when it is clicked. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"window.onload = function() {\\n    // Get the preview button element\\n    var button = document.getElementById(\\\"previewBtn\\\");\\n    /* Add a click handler to the button so that\\n    the previewImage function is called when clicked */\\n    button.onclick = previewImage;\\n    };\\n\")), mdx(\"p\", null, \"Now, when the preview button is clicked, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"previewImage()\"), \" function is called. Within this function, we shall later add code to watermark the image loaded into the canvas. \"), mdx(\"p\", null, \"Let\\u2019s start writing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"previewImage()\"), \" function. For the most part, we will use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillText()\"), \" method. It takes four arguments, corresponding to the actual text, x position, y position, and optionally, the maximum width of the text). It fills the provided text at the (x, y) position of the canvas. The code \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"context.fillText(\\\"hello\\\", 100, 100)\"), \" creates a text \\u201Chello\\u201D starting 100 pixels from the left and top.  \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"function previewImage() {\\n  // Select the canvas and give it a 2d context\\n  let canvas = document.getElementById(\\\"canvas\\\");\\n  let ctx = canvas.getContext(\\\"2d\\\");\\n\\n  /* Get the value of element with an id of \\\"watermarkText\\\" */\\n  let wmText = document.getElementById(\\\"watermarkText\\\").value;\\n\\n  /* If there's actually some text*/\\n  if(wmText) {\\n\\n    /* Find out what options the user has chosen by \\n    getting the indices of the selected items */\\n\\n    // Get the selected text position \\n    let selectPos = document.getElementById(\\\"textPosition\\\");\\n    let posIndex = selectPos.selectedIndex;\\n    let position = selectPos[posIndex].value;\\n\\n    // Get the selected text color\\n    let selectCol = document.getElementById(\\\"textColor\\\");\\n    let colIndex = selectCol.selectedIndex;\\n    let color = selectCol[colIndex].value;\\n\\n    // Get the selected text color \\n    let selectFont = document.getElementById(\\\"textFont\\\");\\n    let fontIndex = selectFont.selectedIndex;\\n    let font = selectFont[fontIndex].value;\\n\\n    // Give text a size of 40px and assign it to the selected font\\n    let textSize = 40\\n    ctx.font = `${textSize}px ${font}`;\\n\\n    // Get the width and height of the canvas\\n    let w = canvas.width;\\n    let h = canvas.height;\\n\\n    // Get width of the text\\n    let text = ctx.measureText(wmText);\\n    let textWidth = text.width;\\n\\n    // Get the selected text background color \\n    let selectBgColor = document.getElementById(\\\"textBgColor\\\");\\n    let bgIndex = selectBgColor.selectedIndex;\\n    let bgColor = selectBgColor[bgIndex].value;\\n\\n    /* Position the text on the image based on the selected position */\\n    if (position == \\\"center\\\") {\\n\\n        // Color the background with the selected color using the fillStyle property\\n        ctx.fillStyle = bgColor;\\n        /* Draw the background using the fillStyle property. The x, y positions, width\\n        and height are based on the width of the text */\\n        ctx.fillRect(w/2 - textWidth/2, h/2-textSize, textWidth*1.2, textSize*1.5);\\n        \\n        // Fill the context (and text) with selected color\\n         ctx.fillStyle = color;\\n         // Draw the text using the fillText() method\\n         ctx.fillText(wmText, w/2 - textWidth/2.3, h/2);\\n    }\\n\\n    else if (position == \\\"bottom-left\\\") {\\n        \\n        ctx.fillStyle = bgColor;\\n        ctx.fillRect(w - (w - 2), h - textSize, textWidth*1.2, textSize*1.5);\\n        // Fill context (and text) with selected color\\n        ctx.fillStyle = color;\\n        ctx.fillText(wmText, w - (w - 10), h - 10);\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"With the above code, we\\u2019re pretty much done. You can select an image, type some text into the interface, select colors and fonts. When you click \\u201Cpreview\\u201D, the text will be drawn on the image using the selected properties. \"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/79f1d982bf6c8febe50d55bc6de270de/00172/watermarked-image.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"74.32432432432432%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACV0lEQVQ4y5WS20vTYRjH9+cERRcSBEFFlKcE6aIu6q67iCLIVKigA3go53S/2Vwqa6IzXOSRedxPd3Aj9aILzS1TsS3U3MH9dDq3sX1iK5XpZvWF78X7vjwfvs/zPrI8xTAnXxq58GqQm29MnJaPkaMY56zSwhmllfwGM3e1Fq4IZnKFcWbcXiBOJBIlGo39cZRYLEYkEkFWqBI5UTHMdZUJcWSKMq3IOYXIRcFKsSDS1munf3CSArWNPPUErtUgScUTCQ4rFAohK2oY41TVCLc0ZoZ6LRhaPlDxXE1VZQvahg5GDUa6+u1c1djJVdtwrmz8BsYTJBIHTmprawtZsXqcHLlIkdJEZ2sPdx48Rl7ThHnIzsMn1bQ16dF1mriknqCg0YZz9QC4pzTgNY2Z84KFZy3DCLU6Sp7WIFTX06dtp6JOyzvtRwaMDm7rHFxW2/j6N2Bhk4O8yl7Ky+SUvniLSuhAqG+l9rUG8+g03V0mhvpElHqR/OZJXGvS8cByg4N7ivfI65qpb+3jUUM39xU9lKqMqAwWGtsHaNf3o9d1caNE4IvHezzQv/4T79oKm5tBVlbXGJmawz73nU9ON46ZRaY/O3G5Fpmd/YZ11MqGP5AGOQJ0u38QCATx+/1IUpDYbpjdnRDh7RDR3TDhne1kSdp6JBKZzymgx+MhEAggSRLhcDjVSnLH9ry3Fqn7eHy/OGvChYUlkg6FtvcfMzlTsozA+fkF1te9aUXZCrPpSEKfL7DfzuFU/w1cXnaT/Bifz5ea4XGt/RNwaWkZSdrMOvD/Bf4CebUxkoCjEg4AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"watermarked image\",\n    \"title\": \"watermarked image\",\n    \"src\": \"/static/79f1d982bf6c8febe50d55bc6de270de/fcda8/watermarked-image.png\",\n    \"srcSet\": [\"/static/79f1d982bf6c8febe50d55bc6de270de/12f09/watermarked-image.png 148w\", \"/static/79f1d982bf6c8febe50d55bc6de270de/e4a3f/watermarked-image.png 295w\", \"/static/79f1d982bf6c8febe50d55bc6de270de/fcda8/watermarked-image.png 590w\", \"/static/79f1d982bf6c8febe50d55bc6de270de/efc66/watermarked-image.png 885w\", \"/static/79f1d982bf6c8febe50d55bc6de270de/00172/watermarked-image.png 1044w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Note that the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"selectedIndex\"), \" property returns the index of the option currently selected in a dropdown. The list of options is converted to an array, and each element can be selected from the array using the index (0-indexed).\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillText()\"), \" method accepts the text to draw on the canvas along with its x and y positions. There are various methods for setting the text font, size, and more. Just like with rectangles, we can set text stroke and fill using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillText()\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"strokeText()\"), \" respectively. Both methods take four arguments: the text to draw, the x position, y position, and optionally, the max-width (forces the text to scale if it\\u2019s wider than the provided max-width).\"), mdx(\"p\", null, \"The font of a piece of text is controlled via the context using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"font\"), \" property. This property is set using the same format as in CSS. If we specify every property value, we\\u2019ll set (in this order): font style, font weight, font size, and font family. For example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"let canvas = document.getElementById(\\\"canvas\\\");\\nlet ctx = canvas.getContext(\\\"2d\\\");\\nctx.font = \\\"3em monospace\\\";\\nctx.fillText(\\\"Hello, how are you?\\\", 100, 50);\\nctx.font = \\\"italic bold 2em serif\\\";\\nctx.fillText(\\\"Hola, \\xBFc\\xF3mo est\\xE1s?\\\", 100, 100);\\n\")), mdx(\"p\", null, \"The above code produces the following results:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/dc61d18bf22a1a699ae804a1c058701b/e9131/font-test.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"32.43243243243243%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAw0lEQVQY05XOwQqEIBCA4X3/9wqkpG6WkgVaqVlUelCqtYViWxb2sv9pDvMN87DWruu677sQAmMszrz3SinG2DzP4zhyzqdp0loLIZRS3vtt26y1D+fccdZ1XZZlxhiEkHNOa52mad/3TdMQQpZlyfMcQiilvPadcx+MEIqiCAAwDANjLEmSOI7LsiyKAgAAIaSUHscRQviBtdaEkKqqpJTsDGPcti3nnFJa17Ux5sKX/8L/9oVDCM+z6/Y9P9/dD9/4BYLvUlCRw7GrAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"font test\",\n    \"title\": \"font test\",\n    \"src\": \"/static/dc61d18bf22a1a699ae804a1c058701b/fcda8/font-test.png\",\n    \"srcSet\": [\"/static/dc61d18bf22a1a699ae804a1c058701b/12f09/font-test.png 148w\", \"/static/dc61d18bf22a1a699ae804a1c058701b/e4a3f/font-test.png 295w\", \"/static/dc61d18bf22a1a699ae804a1c058701b/fcda8/font-test.png 590w\", \"/static/dc61d18bf22a1a699ae804a1c058701b/e9131/font-test.png 614w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The canvas does not have a direct way of creating text with a background. An easy workaround is to draw a rectangle and place it below the text, making it look like a background. \"), mdx(\"p\", null, \"Let\\u2019s take a closer look at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillStyle\"), \". It is a context property that holds the color of anything drawn on the canvas. It accepts color names (like red, black. green) and values like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"#0000\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rgb(0,0,0)\"), \". \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"ctx.fillStyle = color;\\n\")), mdx(\"p\", null, \"Notice that since the text background and text color are usually different values, we have to set it multiple times. You might expect us to set the rectangle color and text color using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillRect()\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillText()\"), \" methods respectively, but this is not how the canvas works. Recall that the canvas context is just an object that controls how the canvas is used. With \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillStyle\"), \", we tell the canvas that the subsequently drawn object(s) should use the specified color. After setting fillStyle, anything that can be filled with color (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillRect()\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillText()\"), \") will take on the last-specified \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillStyle\"), \" color. This color will be used until it is changed again via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fillStyle\"), \" to another color. \"), mdx(\"h3\", null, \"Downloading an image from the canvas\"), mdx(\"p\", null, \"If you want to go further, you can \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/blog/download-canvas-image\"\n  }, \"add download functionality\"), \" so that the watermarked image can be downloaded and saved to the user\\u2019s device. This can be done using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"toDataURL()\"), \" method of the canvas object. \"), mdx(\"h2\", null, \"Summary\"), mdx(\"p\", null, \"Here are the canvas basics we covered in this tutorial:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The canvas is an element that provides a drawing space on a web page\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You specify the width and height of the canvas using the width and height attributes on the element\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Everything drawn on the canvas is done using JavaScript\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Before you can draw on the canvas, you must first create a context that provides a kind of interface (e.g 2D). \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To create a rectangle, use the context \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fillRect()\"), \" method. This draws a rectangle filled with color. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To create a rectangle outline, use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"strokeRect()\"), \" method\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"to draw text in the canvas, use the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fillText()\"), \" method. You can specify the position, color, style, and other text properties using context properties. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"When you set a context property, such as \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fillStyle\"), \", it applied to every drawing that follows until you change the property to a different value.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To draw an image on the canvas, use the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"drawImage()\"), \" method.  \")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"slug":"/blog/html5-canvas-watermark/","previous":{"id":"c48cfeff-36a8-56b7-bf1c-327bd8d5f720","fields":{"slug":"/blog/ux-writing-tips/"},"frontmatter":{"title":"9 UX writing tips for designers and developers"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"9 UX writing tips for designers and developers\",\n  \"date\": \"2022-03-03\",\n  \"categories\": [\"UX\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"UX writing is the practice of crafting text for digital interfaces that help users interact with products more conveniently. While it is not expected for designers and developers to be professional writers, knowing how to write UX copy is valuable when creating digital products. The following UX writing tips might help.\"), mdx(\"h3\", null, \"1) Write clearly\"), mdx(\"p\", null, \"Do not assume your reader knows the point you\\u2019re trying to make. Think about what exactly you want to say and say it clearly. No one wants to read a piece of text multiple times before understanding. A quick scan should be enough. People usually quickly scan text rather than read everything, since they lack time and have a short attention span. Therefore, every word you use should be relevant and understandable.\\nHere are some tips to help you write clearly:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use simple words. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use the active voice instead of the passive voice. Using the active voice makes sentences flow better and motivates user action. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Be uniform in your choice of possessive adjectives (like my, your, her, our). For instance, don\\u2019t write \\u201CYour account\\u201D, \\u201CMy Music\\u201D in the same menu. Pick an adjective and use it consistently. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use technical terms sparsely, and when you do, add a short definition or description. The reader might not know the service or product you are writing about. Do not assume they do. Before writing UX text, it helps to list and define the terms to use and those to avoid (such as terms that are difficult to understand, sensitive, or confusing). For example, instead of writing  \\u201CConnection error, server unreachable\\u201D, you might say \\u201CYou are offline. Check your internet connection and retry\\u201D. \")), mdx(\"h3\", null, \"2) Be concise\"), mdx(\"p\", null, \"Paradoxically, it usually takes more time to write a shorter statement than a longer one because it is harder to condense important details into a shorter statement. When working on devices with small screens such as mobile applications, there is not a lot of screen space. You, therefore, have to try to fit as much value into the little available space. Here\\u2019s how to do this:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Find a way to express concepts more succinctly. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use shorter sentences. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Write the important stuff at the beginning of the paragraph so that it is read first.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"After writing each sentence, read through it and check if there\\u2019s anything you can delete without messing up the meaning of the phrase. For example, instead of saying \\u201CConnection error, the server is unreachable. You are offline. Check your internet connection.\\u201D, you might say \\u201CNo internet\\u201D.\")), mdx(\"h3\", null, \"3) Be consistent\"), mdx(\"p\", null, \"UX text is meant to assist, not confuse. The navigation and other components of a digital product should be consistent. Not just consistent design (colors, layout, etc) but consistent text. Consistency is harder to achieve when many people are working on an application (such as in open-source software) or when there are several pages. To maintain textual consistency:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Make a list of all key terms, define them, and ensure they are used consistently across all pages of the app. For open-source projects, keep this list in a public document that is accessible to contributors. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Document colors and fonts that should be used \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Don\\u2019t make the user think. Instead of using unique phrases, it might be better to give readers a familiar experience. Instead of writing \\u201CReach out\\u201D or \\u201CLet\\u2019s talk\\u201D, you could stick with \\u201CContact Us\\u201D, since it\\u2019s widely used and the users immediately understand what you mean. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Do not use many synonyms throughout the product to express the same concept. For instance, if you decide to use \\u201CContact Us\\u201D, stick with it. Avoid using similar words like \\u201CSupports\\u201D, \\u201CReach out\\u201D, \\u201CGet Help\\u201D to refer to the same concept. \")), mdx(\"h3\", null, \"4) Be helpful\"), mdx(\"p\", null, \"If you\\u2019re trying to guide people, do it properly. The navigation and other components should be smooth and self-explanatory. \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Think about possible issues or points of confusion your users might encounter, then try to guide them through these using text. You can find possible user issues via user research. User research can be as simple as reading open issues (for open source projects), checking frequently asked questions on chat/support channels like Reddit, Stack Overflow, IRC channels, Discourse or just casually talking to users about their pain points. Make sure your writing answers the frequently asked questions. If there\\u2019s a feature that people are regularly asking how to use, this is an indication that you need clearer instructions. Know when instructions are necessary, and when they are, be as succinct as possible. Use simple, well-structured sentences that are straight to the point and accurate. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Avoid forcing long instructions into an interface with limited space. Rather, link to instructions/FAQs or use tooltips.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Provide actionable error messages. For example, if you have a \\u201CNo internet connection\\u201D error message, it\\u2019s more helpful to have a button that says \\u201CRetry\\u201D rather than \\u201COK\\u201D.  \")), mdx(\"h3\", null, \"5) Write naturally\"), mdx(\"p\", null, \"The reader might not know a lot about a topic or domain as much as you do. It\\u2019s up to you to educate them, irrespective of their background and skills. \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Do not use many big or uncommon words. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you must use technical words, define them in case the reader doesn\\u2019t know what they mean.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Avoid abbreviations, except common ones (e.g USB). If you must use uncommon abbreviations, make sure they have been defined earlier. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Do some keyword research and include these keywords in your writing. Keywords are words that people usually use when searching for a resource online. Tools like Ubersuggest, Keyword Tool, and Google Trends can be used to find them. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Set a tone, depending on your audience. For example, your tone may be casual or technical/professional. What voice/tone are you trying to convey? Consider your readers before making a decision.\")), mdx(\"h3\", null, \"6) Be human\"), mdx(\"p\", null, \"It can be difficult to express human emotion via text, but it\\u2019s worth a try. Try to make the reader feel like you care about them. Be less mechanical and more emotional. Granted, it is not easy to talk naturally via written text. Speaking is easier and informal, while writing is more structured. \"), mdx(\"p\", null, \"The points below might help you infuse some human warmth into your text:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Instead of saying \\u201CThe contact form has been sent. Expect a response shortly\\u201D, say \\u201CWe have received your message. We\\u2019ll get back to you soon\\u201D. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"People from different cultures may be sensitive to be a particular topic. Keep your audience in mind.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Acting human doesn\\u2019t mean you should be sympathetic. You don\\u2019t have to be too clever or hilarious either, as this may distract from the core meaning of your text or distract the user from a task or action. All in all, it depends on your brand, tone of voice, and target audience. \")), mdx(\"h3\", null, \"7) Be structured\"), mdx(\"p\", null, \"Good information architecture is important. When the content of a site or page is well structured, it\\u2019s easier for users to find what they need. In contrast, disorganized content is hard to find and understand. When designing content, \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Make a list of your objectives. Know why you\\u2019re writing, who you\\u2019re writing for and the impact your text should have. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Start with the most important content at the top of the page, and less important text below. The stuff below should still be important, but not as important as that at the top of the page. Anything that is not helpful should be removed. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use elements like titles, subtitles, and lists to organize content into sections\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use keywords in headings to attract the reader\\u2019s attention\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Arrange content such that related things are next to each other visually\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Split long text into digestible bits\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Slowly reveal the content (where possible) to avoid overwhelming the reader. \")), mdx(\"h3\", null, \"8) Be focused\"), mdx(\"p\", null, \"Yes, you have so much to say. But writing too much text may not help as much as you expect it to. There\\u2019s no guarantee everything you write will be read. \"), mdx(\"p\", null, \"Look at your content and ask yourself if every piece of text is necessary. If something is important, you can compel the reader to pay attention to it by surrounding it with adequate blank space. People find it easier to focus on something when there is more space around it. For example, a button with space around it will catch the user\\u2019s attention. Whenever you have a call to action, highlight it with whitespace. Aside from focus, whitespace around text improves readability. \"), mdx(\"h3\", null, \"9) Be inclusive and accessible\"), mdx(\"p\", null, \"Needless to say, accessibility is important. You should strive to build products that can be used by all. \"), mdx(\"p\", null, \"Accessible language is language that can be easily read and understood by everyone. The reader might have a disability such as learning difficulties, poor eyesight, color blindness, poor motor skills (that impede their ability to move a mouse or use a keyboard), or have other limitations. Put yourself in their shoes and try to accommodate them by:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Using simple words and avoiding technical terms if possible\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Providing concise, direct instructions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Using text on links to explain what should happen after clicking\")), mdx(\"p\", null, \"Inclusive language is language that is appropriate for all groups of people. Your readers might come from different cultures. Steer away from phrases or expressions that are sensitive to certain groups of people. Be respectful of others\\u2019 beliefs, and be careful not to negatively influence them with your choice of words. For example, \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Words like \\u201Cretarded\\u201D are considered offensive nowadays.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Avoid vague and unclear groupings, for example, \\u201CAsians\\u201D. In some cases, it might not be clear who exactly qualifies as an Asian. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Unless necessary, don\\u2019t specify gender. Avoid gendered words like \\u201Csalesman\\u201D (use salesperson). Instead of saying \\u201Cwife\\u201D or \\u201Chusband\\u201D, you can say \\u201Cspouse\\u201D or \\u201Cpartner\\u201D. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Avoid stereotypes.\")));\n}\n;\nMDXContent.isMDXComponent = true;"},"next":{"id":"415b8d3c-4161-5319-b165-0d5105c90d54","fields":{"slug":"/blog/download-canvas-image/"},"frontmatter":{"title":"How to download an HTML5 canvas as an image using JavaScript"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"How to download an HTML5 canvas as an image using JavaScript\",\n  \"date\": \"2022-03-17\",\n  \"categories\": [\"JavaScript\", \"HTML\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"After drawing to the canvas, you may want to download and save the canvas drawing as an image. To do this, you can use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"toDataURL()\"), \" method of the canvas object. \"), mdx(\"p\", null, \"Suppose you have a button with id \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"downloadBtn\"), \"  in an HTML file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"    <input type=\\\"button\\\" id=\\\"downloadBtn\\\" value=\\\"Download\\\">\\n\")), mdx(\"p\", null, \"The download and save functionality will be handled within the following \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"downloadImage()\"), \" function, which can be added to your JavaScript file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"function downloadImage() {\\n\\n    // Grab the canvas element\\n    let canvas = document.getElementById(\\\"canvas\\\");\\n\\n    /* Create a PNG image of the pixels drawn on the canvas using the toDataURL method. PNG is the preferred format since it is supported by all browsers\\n    */\\n    var dataURL = canvas.toDataURL(\\\"image/png\\\");\\n\\n    // Create a dummy link text\\n    var a = document.createElement('a');\\n    // Set the link to the image so that when clicked, the image begins downloading\\n    a.href = dataURL\\n    // Specify the image filename\\n    a.download = 'canvas-download.jpeg';\\n    // Click on the link to set off download\\n    a.click();\\n}\\n\")), mdx(\"p\", null, \"Finally, we add a handler to call \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"downloadImage()\"), \" whenever the download button is clicked. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"let download = document.getElementById('downloadBtn')\\ndownload.addEventListener('click', downloadImage)\\n\")), mdx(\"p\", null, \"Note that some browsers won\\u2019t let you save an image from the canvas if the code is running from a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"file://\"), \" host. If your code does not work, try running it from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost://\"), \" or a hosted server. \"));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"staticQueryHashes":["3128451518"]}